<nav>
  <div *ngIf="sessionActive()">Utilisateur: {{ username }}</div>
  <div *ngIf="sessionActive()"><a routerLink="/mytime/capture">Capture</a></div>
  <div *ngIf="sessionActive()"><a routerLink="/mytime/rapport">Rapport</a></div>
  <div *ngIf="sessionActive()"><a routerLink="/mytime/comments">Commentaire</a></div>
  <div><a routerLink="/mytime/aide">Aide</a></div>

  <div *ngIf="sessionActive()"><button (click)="logout()">Déconnecter</button></div>
  <div *ngIf="sessionActive()"><button (click)="validateToken()">Valider Token</button></div>
  <div *ngIf="!sessionActive()"><button (click)="login()">Se connecter</button></div>
</nav>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<div class="container-fluid vh-100">
  <div class="row h-100">
    <div class="col-1 col-md-3 bg-light p-0 border-end">
      <div class="d-flex flex-column align-items-start">

        <button class="btn btn-light mb-2 py-10" (click)="fermerOuvrirMenu()">
          <mat-icon>{{ menuOuvert ? 'arrow_back' : 'arrow_forward' }}</mat-icon>
        </button>

        <div *ngIf="menuOuvert">
          <!-- Menu -->
          <div class="bg-light border-end menu">
            <div class="d-flex flex-column align-items-start">

              <div class="d-flex align-items-center p-3 d-none d-sm-flex">
                <img src="../../../images/chrono.jpeg" alt="Logo" class="ms-2" style="height: 40px;">
              </div>
              <div i18n="@@utilisateurNav" class="ms-2">Utilisateur: {{ username }}</div>

              <!-- Options Menu -->
              <div cdkMenu class="list-group w-100">
                <ng-container *ngIf="!sessionActive()">
                  <a cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" [routerLink]="['/mytime']">
                    <mat-icon class="me-2">home</mat-icon>
                    <span class="d-none d-sm-inline" i18n="@@accueilNav">Accueil</span>
                  </a>
                </ng-container>

                <a cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" 
                  [routerLink]="['/mytime/comments']">
                  <mat-icon class="me-2">comment</mat-icon>
                  <span class="d-none d-sm-inline" i18n="@@commentNav">Commentaire</span>
                </a>

                <ng-container *ngIf="sessionActive()">
                  <button cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center">
                    <mat-icon class="me-2">access_time</mat-icon>
                    <span class="d-none d-sm-inline"
                    [routerLink]="['/mytime/capture']">Capture</span>
                  </button>

                  <button cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center">
                    <mat-icon class="me-2">description</mat-icon>
                    <span class="d-none d-sm-inline" 
                    i18n="@@rapportNav"
                    [routerLink]="['/mytime/rapport']">Rapport</span>
                  </button>

                  <button cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" disabled>
                    <mat-icon class="me-2">settings</mat-icon>
                    <span class="d-none d-sm-inline">Administration</span>
                  </button>

                  <button cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" disabled>
                    <mat-icon class="me-2">list</mat-icon>
                    <span class="d-none d-sm-inline" i18n="@@categorieNav">Catégories</span>
                  </button>

                  <a cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" 
                    [routerLink]="['/mytime/aide']">
                    <mat-icon class="me-2">info</mat-icon>
                    <span class="d-none d-sm-inline" i18n="@@aideNav">Aide</span>
                  </a>

                  <button cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" disabled>
                    <mat-icon class="me-2">person</mat-icon>
                    <span class="d-none d-sm-inline" i18n="@@profileNav">Profil</span>
                  </button>
                </ng-container>

                <ng-container *ngIf="!sessionActive()">
                  <a cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" 
                    [routerLink]="['/connexion']">
                    <mat-icon class="me-2">login</mat-icon>
                    <span class="d-none d-sm-inline" i18n="@@connexionNav">Connexion</span>
                  </a>
                </ng-container>

                <ng-container *ngIf="sessionActive()">
                  <button cdkMenuItem class="menu-item list-group-item list-group-item-action d-flex align-items-center" 
                  (click)="logout()">
                    <mat-icon class="me-2">logout</mat-icon>
                    <span class="d-none d-sm-inline" i18n="@@deconnexionNav">Déconnexion</span>
                  </button>
                </ng-container>

                <a i18n="@@compactVue" 
                (click)="activerCompacte()" class="btn btn-outline-secondary">
                  <i class="fa fa-compress"></i> Vue compacte
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<router-outlet></router-outlet>